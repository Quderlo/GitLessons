# Курс по Git для самых маленьких

## Ветка Main/Master: 
1. В ветку main кладем только протестированные и готовые фичи\задачи. Можно всегда скачать ветку main и там все должно работать.
2. Никто не пишет в main код напрямую, кроме каких-то исключительных случаев (пофиксить 1-2 строчки кода). 
3. Обычно в больших проектах есть 2-3 основных веток main, develop, release. main - стабильно работающая версия.
develop - ветка от которой отходят другие в которые мы добавляем всякие фичи (основная ветка при разработке).
release - ветка с подготовкой к релизу где мы делаем hotfix'ы.

## Как разрабатывать
1. Создаем базовый шаблон нашего проекта это и будет первая версия.
2. Для каждой фичи\задачи вы создаете новую ветку. Например, мы хотим добавить мультиплеер - будем работать в ветке multiplayer.
3. Первым делом обновим у себя на машине основную ветку, из которой отпочкуемся.

## Основы Git

```bash
git init # Инициализация git репозитория.
```

Для работы дальше необходимо указать имя пользователя и email.

```bash
git config --global user.name "Your Name"
git config --global user.email "your_email@example.com"
```

## git status 
Одна из основных команд. Показывает текущее состояние рабочей директории.
Выводит список измененных файлов, файлов, которые еще не добавлены в репозитории,
и файлов, которые находятся в репозитории, но не в коммите.

```bash
git status
```

# Подключение к удалённому репозиторию - git remote

```bash
git remote add <remote_name> <remote_url>
```
1. <имя_удаленного_репозитория> - это имя, которое вы хотите дать удаленному репозиторию. 
Обычно используется слово **origin**, но можно выбрать любое другое.
2. <URL_удаленного_репозитория> - это URL-адрес удаленного репозитория,
к которому нужно добавить ссылку.

Примеры:
```bash
git remote add origin https://github.com/ваш_логин/ваш_репозиторий.git
```

Если используется GitHub токен:
```bash
git remote add origin https://токен@github.com/ваш_логин/ваш_репозиторий.git
```

## git add и .gitignore
Добавление файлов в репозиторий для подготовки к коммиту.

```bash
git add <file_name> # Указываем какие файлы мы хотим добавить в репозиторий
git add . # Выбрать все файлы
```

**Если файлов много, но добавлять все не нужно то можно создать файл .gitignore**
Все пути к файлам описанные внутри него будут игнорироваться при команде git add .

# git commit

Команда git commit в Git используется для сохранения 
изменений в вашем локальном репозитории. Коммит создает точку сохранения 
в истории вашего проекта, который включает в себя все изменения,
которые вы добавили с помощью команды git add.

```bash
git commit -m "Hello Slinkin!"
```

Если ввести просто git commit без -m, запустися тот текстовый редактор что вы
указали при установке Git, и в нём также можно указать сообщения commit'a

# git push
Команда git push в Git используется для отправки локальных изменений в удаленный репозиторий. 
После того как вы внесли изменения в свой локальный репозиторий вы можете сохранить их 
в удаленном репозитории используется команду git push.
```bash
git push <удаленный_репозиторий> <ветка>
```
1. <удаленный_репозиторий> - это имя удаленного репозитория, куда вы хотите отправить изменения. 
Обычно используется имя **origin**, если вы добавили ваш удаленный репозиторий 
с этим именем с помощью git remote add.
2. <ветка> - это имя локальной ветки, изменения из которой вы хотите 
отправить в удаленный репозиторий.

Пример:
```bash
git push origin main
```

# Дальнейшая работа
После создания первого работающего шаблона обычно переходят на другую ветку.
```bash
git branch <имя_ветки> # Создание новой ветки
git checkout <имя_ветки> # Переход на другую ветку
git checkout -b <Имя ветки> # Создание и переход на другую ветку
```
Если в ходе разработки что то пошло не так и вы хотите вернуться к последнему коммиту
(последней версии git commit)

```bash
git reset --hard HEAD
```
В Git **HEAD** - это указатель на текущую активную ветку в вашем локальном репозитории.
Он ссылается на последний коммит в этой ветке, обозначая,
на какую версию вашего проекта указывает ваша рабочая копия.

Далее всё как обычно.
```bash
git add .
git commit
git push
```

Как только задача готова, фича создана и
протестирована - изменения нужно будет перенести в общий main.

# Что бы всё не сломать. Да, максим?
Перед тем как проводить слияния вашей ветки с той от которой вы создали свою,
необходимо на неё перейти в допустим это main
```bash
git checkout main
git pull origin main
```
# git pull
Команда git pull в Git используется для получения изменений из удаленного репозитория
и объединения их с текущей локальной веткой. Это сочетание двух других команд:
git fetch, которая загружает изменения из удаленного репозитория без их объединения,
и git merge, которая объединяет загруженные изменения с вашей локальной веткой.
```bash
git pull <удаленный_репозиторий> <ветка>
```
Здесь впервые можно встретить очень страшную штуку - **Конфликты**
1. Конфликты в Git возникают, когда две или более ветки изменяют одну и ту же часть файла
и Git не может автоматически объединить эти изменения. Это может произойти,
например, когда два разработчика вносят изменения в одну и ту же строку кода
или когда один разработчик изменяет файл, который был изменен в другой ветке.
2. Git отмечает конфликты в файлах, добавляя специальные маркеры 
(<<<<<<<, =======, >>>>>>>) в местах, где произошли конфликты. 
Вам нужно вручную разрешить конфликты, удаляя маркеры и сохраняя 
нужные изменения. После разрешения конфликтов вы должны сделать новый коммит, 
чтобы завершить процесс слияния.

Пример:
```bash
<<<<<<< HEAD
Это изменение было сделано в локальной ветке.
=======
Это изменение было сделано в удаленной ветке.
>>>>>>> branch_name
```
В данном примере <<<<<<< HEAD, ======= и >>>>>>> branch_name - это маркеры конфликта.
Все, что находится между <<<<<<< HEAD и =======, это изменения из вашей локальной
ветки. Все, что находится между ======= и >>>>>>> branch_name, это изменения из 
удаленной ветки.

Нужно оставить тот код который по вашему мнению правильный, или же соединить их.
Также при этом стереть все маркеры.

Если не можете найти файл конфликта всегда можно написать 
```bash
git status
```

После этого опять:
```bash
git add .
git commit -m "Resolve conflicts" # Обычно пишут если мы просто решали конфликты
git push origin <ветка>
```

После того как мы сделали git pull и если были конфликты мы их решили
```bash
git merge <наша_локальная_ветка>
```
Смотрим есть ли конфликты или нет.
```bash
git status
```
Если есть решаем.
Если нет то:
```bash
git add .
git commit -m "Я сделал фичу"
git push origin main
```
Ура, ваша задача теперь в main

Далее если не нужно можно удалить ветку
```bash
git branch -d <имя_ветки>
```
Для того чтобы удалить удалённую ветку
```bash
git push origin --delete <имя_ветки>
```
Сделать это можно всё в интерфейсе GitHub.

# Если ваш друг сам мерджить не умеет.
Иногда ваш друг забудет что нужно было делать слияние веток и в этом случае вам нужно
будет сделать это самому. При этом на компьютере у вас её нет потому что она
находится в удалённом репозитории. Чтобы на неё перейти нужно:

```bash
git fetch origin
```
Эта команда получит все изменения из удалённого репозитория 
(включая новые ветки), но не применит их к вашей локальной ветке.
Далее переходим на удалённую ветку
```bash
git checkout <имя_ветки друга>
```

Если ветка ещё не была скопирована в ваш локальный репозиторий, 
команда git checkout создаст локальную версию этой ветки на основе удалённой.
Получить последние изменения в удалённой ветке (необязательно):

После того как вы переключились на удалённую ветку, вы можете выполнить git pull,
чтобы убедиться, что ваша локальная копия ветки синхронизирована с удалённой версией:

```bash
git pull origin new-feature
```

Теперь вы на ветке друга и также можете провести её слияние.
```bash
git checkout main
git pull origin main
git merge <имя_ветки друга>
смотрим есть ли конфликты или нет
git status
если есть - решаем
git add .
git commit -m ""
git push origin main
```
